<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
  <foreignObject x="20" y="20" width="200" height="100">
    <!-- TODO: Secure with a client-side version of proxy lock -->
      <body xmlns="http://www.w3.org/1999/xhtml">
        <script src="./res/config.js"></script>
        <script>
          <![CDATA[
            function submit() {
              const omnibox = document.getElementById("omnibox");
              if (omnibox instanceof HTMLInputElement)
                  window.location.pathname = self.__uv$config.prefix + omnibox.textContent;
              else throw new Error("Unable to find the omnibox");
            }

            if ("serviceWorker" in navigator)
              navigator.serviceWorker.register("./sw.js").then(reg => alert("Service worker registered!")).catch(alert);
          ]]>
        </script>
        <input id="omnibox" type="text" placeholder="Type in the URL"></input>
        <button onclick="submit">Go</button>
      </body>
  </foreignObject>
</svg>
